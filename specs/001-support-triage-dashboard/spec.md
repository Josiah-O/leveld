# Feature Specification: Customer Support Triage Dashboard

**Feature Branch**: `001-support-triage-dashboard`
**Created**: 2026-02-15
**Status**: Draft
**Input**: Leveld 24-hour build challenge brief

## User Scenarios & Testing *(mandatory)*

### User Story 1 - View Triage Summary (Priority: P1)

A support lead opens the dashboard at the start of their day. They immediately see a summary showing the count of messages by category (Bug, Billing, Feature Request, General) and by priority (High, Medium, Low). This gives them an instant picture of the day's workload without reading individual messages.

**Why this priority**: This is the core value proposition -- a quick overview of volume and severity. Without this, the dashboard has no purpose.

**Independent Test**: Can be fully tested by loading the page and verifying summary counts match the hard-coded message data.

**Acceptance Scenarios**:

1. **Given** 18 hard-coded messages, **When** the dashboard loads, **Then** summary cards show correct counts per category (e.g., Bug: 5, Billing: 4, Feature Request: 4, General: 5)
2. **Given** 18 hard-coded messages, **When** the dashboard loads, **Then** summary cards show correct counts per priority (e.g., High: 5, Medium: 7, Low: 6)

---

### User Story 2 - Browse and Filter Messages (Priority: P2)

The support lead scrolls down to see a list/table of all individual messages. Each row shows the message body (or snippet), assigned category, assigned priority, and optionally the customer name and date. The lead can filter this list by category and/or priority to focus on specific subsets (e.g., "show me only High priority Bugs").

**Why this priority**: After seeing the summary, the lead needs to drill into specific messages. Filtering is what makes the tool actually useful for triage.

**Independent Test**: Can be tested by selecting filter values and verifying the displayed list updates correctly.

**Acceptance Scenarios**:

1. **Given** the full message list is displayed, **When** the user selects category "Bug", **Then** only Bug messages are shown
2. **Given** the full message list is displayed, **When** the user selects priority "High", **Then** only High priority messages are shown
3. **Given** filters are applied, **When** the user clears all filters, **Then** all messages are shown again
4. **Given** the full message list, **When** the user selects category "Billing" AND priority "High", **Then** only messages matching both are shown

---

### User Story 3 - Resolve Messages (Priority: P3)

The support lead can mark individual messages as "Resolved". Resolved messages are visually distinct (e.g., greyed out or struck through) and the summary counts update to reflect only unresolved messages. This lets the lead track progress through the queue.

**Why this priority**: This is a bonus feature per the brief. It adds real workflow value but the dashboard is usable without it.

**Independent Test**: Can be tested by clicking resolve on a message and verifying the visual state changes and summary counts decrement.

**Acceptance Scenarios**:

1. **Given** an unresolved message, **When** the user clicks "Resolve", **Then** the message is visually marked as resolved
2. **Given** a resolved message, **When** the user views the summary, **Then** resolved messages are excluded from summary counts
3. **Given** a resolved message, **When** the user clicks "Unresolve", **Then** the message returns to active state and counts update

---

### User Story 4 - Visual Priority Indicators (Priority: P4)

High-priority messages are visually distinct in the message list -- using colour coding, icons, or badges -- so the lead can spot urgent items at a glance without reading the priority column.

**Why this priority**: This is a bonus polish feature. It improves UX but the dashboard functions without it.

**Independent Test**: Can be tested by verifying that High-priority rows have a distinct visual treatment (e.g., red left border, warning icon).

**Acceptance Scenarios**:

1. **Given** the message list, **When** the user views a High priority message row, **Then** it has a visually distinct indicator (colour/icon) compared to Medium and Low

---

### User Story 5 - Queue Insights Panel (Priority: P5) *(Innovation)*

The support lead sees a small “Queue Insights” panel near the top of the dashboard that highlights patterns they may miss from raw counts alone. The insights are generated by an AI “skill” (prompted agent) from the currently loaded messages (and their triage results), returning a small number of concise, actionable insights.

**Why this priority**: This is not required by the brief, but it demonstrates product thinking: converting the queue into actionable signals (potential incident spikes, estimated workload) instead of only displaying counts.

**Independent Test**: Can be tested by running the skill output through validation/guardrails and verifying the UI renders 2–4 insights that respect constraints (no PII, no fabricated history).

**Acceptance Scenarios**:

1. **Given** any queue state, **When** the dashboard loads, **Then** the insights panel renders 2–4 insights (never more than 4; may be fewer if nothing stands out)
2. **Given** the input includes only the current queue, **When** insights are generated, **Then** no insight claims historical baselines or averages not present in the input (no invented “2x normal”, no “avg resolve time” unless tracked)
3. **Given** the queue contains customer names and message bodies, **When** insights are generated, **Then** insights avoid PII (do not include customer names or direct verbatim message quotes)
4. **Given** the AI skill fails or returns invalid output, **When** insights are generated, **Then** the UI shows a clear “Insights unavailable” state without breaking the core dashboard

---

### Edge Cases

- What happens when all messages are resolved? Summary should show zero counts and the list should show all items greyed out.
- What happens when filters match no messages? The list should show an empty state with a clear "No messages match" notice.
- What happens with a message that doesn't match any keyword? It should default to category "General" and priority "Low".

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: System MUST display 15-20 hard-coded customer support messages on load
- **FR-002**: Each message MUST have: an ID, a message body, a category, and a priority
- **FR-003**: Each message SHOULD have: a customer name and a date/time
- **FR-004**: System MUST assign a category to each message: Bug, Billing, Feature Request, or General
- **FR-005**: System MUST assign a priority to each message: High, Medium, or Low
- **FR-006**: Categorisation and prioritisation MUST use keyword-based rules (explainable in README)
- **FR-007**: System MUST display a summary view with message counts per category and per priority
- **FR-008**: System MUST display a list/table of all messages with body, category, and priority columns
- **FR-009**: System MUST allow filtering the message list by category
- **FR-010**: System MUST allow filtering the message list by priority
- **FR-011**: System SHOULD allow marking a message as Resolved (bonus)
- **FR-012**: System SHOULD visually distinguish High-priority messages (bonus)
- **FR-013**: System MUST be deployed with a public URL
- **FR-014**: System SHOULD display a “Queue Insights” panel that generates 2–4 actionable insights from the current queue using an AI skill with strict output guardrails (innovation)

### Key Entities

- **SupportMessage**: Represents a customer support message. Attributes: id, body, customerName, date, category, priority, resolved status.
- **Category**: One of Bug, Billing, Feature Request, General. Assigned by keyword matching rules.
- **Priority**: One of High, Medium, Low. Assigned by keyword matching rules and/or category-based heuristics.

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Dashboard loads and displays all messages with correct categories and priorities within 2 seconds
- **SC-002**: Summary counts are accurate and match the underlying data (100% correctness)
- **SC-003**: Filtering by any combination of category and priority returns the correct subset instantly
- **SC-004**: The deployed public URL is accessible and functional for reviewers
- **SC-005**: The README clearly explains the categorisation/prioritisation approach in under 200 words
- **SC-006**: Triage logic has passing unit tests covering all categories and priority levels
- **SC-007**: Queue Insights (if implemented) respect guardrails: max 4 insights, no PII, no fabricated history; failures degrade gracefully without breaking the dashboard
